!function(){"use strict";var e=require("cheerio"),t=require("cheerio-tableparser"),r=require("request"),a=require("./strokeList").strokeTable,i=require("moment"),s=require("asa-swim-time-converter").getTime;process.env.NODE_TLS_REJECT_UNAUTHORIZED="0";var n={scrapeSite:function(n){return new Promise(function(o,u){r(n,function(r,n,c){r&&u(r),200!==n.statusCode&&u("Invalid status code: "+n.statusCode);for(var l=e.load(c),m=l("table#rankTable"),d=[],v=0;v<m.length;v+=1){var D=m.get(v);t(l);for(var f=l(D).parsetable(!0,!0,!0),S=0===v?"LC":"SC",b=0===v?"50m":"25m",C=0===v?"25m":"50m",M=0===v?"SC":"LC",T="",p=0;p<f[0].length;p+=1)if(p>0){T=null===a[f[0][p]]?f[0][p]:a[f[0][p]];var q={course:S,stroke:T,dateObtained:i(f[3][p],"DD/MM/YY").toDate(),timeDate:[{course:S,timing:f[1][p],dateAndTime:i(f[3][p]+"-"+f[1][p],"DD/MM/YY-mm:ss.SSS").toObject(),calculated:!1},{course:M,timing:"100 IM"!==T?s(T,b,C,f[1][p]):f[1][p],dateAndTime:i("100 IM"!==T?f[3][p]+"-"+s(T,b,C,f[1][p]):f[3][p]+"-"+f[1][p],"DD/MM/YY-mm:ss.SSS").toObject(),calculated:!0}],finaPts:f[2][p],meet:f[4][p],venue:f[5][p],license:f[6][p],level:f[7][p],dateCollected:new Date};d.push(q)}}o(d)})})}};module.exports=n}(),define("scraper",function(){});